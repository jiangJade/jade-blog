<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue-nextTick简单理解 | jadeBlog</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="icon" href="/jade-blog/favicon.ico">
    <meta name="description" content="和你一起学习一起成长的经历">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/jade-blog/assets/css/0.styles.e38aed7d.css" as="style"><link rel="preload" href="/jade-blog/assets/js/app.923e8905.js" as="script"><link rel="preload" href="/jade-blog/assets/js/3.8e18c45c.js" as="script"><link rel="preload" href="/jade-blog/assets/js/1.36d733a9.js" as="script"><link rel="preload" href="/jade-blog/assets/js/17.63941303.js" as="script"><link rel="prefetch" href="/jade-blog/assets/js/10.df0e166a.js"><link rel="prefetch" href="/jade-blog/assets/js/11.f17d6b73.js"><link rel="prefetch" href="/jade-blog/assets/js/12.daa9819d.js"><link rel="prefetch" href="/jade-blog/assets/js/13.31984a50.js"><link rel="prefetch" href="/jade-blog/assets/js/14.b3b1ef69.js"><link rel="prefetch" href="/jade-blog/assets/js/15.6b37239f.js"><link rel="prefetch" href="/jade-blog/assets/js/16.15587ec1.js"><link rel="prefetch" href="/jade-blog/assets/js/18.181f1207.js"><link rel="prefetch" href="/jade-blog/assets/js/19.4242644c.js"><link rel="prefetch" href="/jade-blog/assets/js/20.57be6310.js"><link rel="prefetch" href="/jade-blog/assets/js/21.859a4ce0.js"><link rel="prefetch" href="/jade-blog/assets/js/22.1fe74e74.js"><link rel="prefetch" href="/jade-blog/assets/js/23.0761ed8a.js"><link rel="prefetch" href="/jade-blog/assets/js/24.0ac778d0.js"><link rel="prefetch" href="/jade-blog/assets/js/25.10dc99f4.js"><link rel="prefetch" href="/jade-blog/assets/js/26.5cdbe5b5.js"><link rel="prefetch" href="/jade-blog/assets/js/27.adc433b5.js"><link rel="prefetch" href="/jade-blog/assets/js/28.6eff344f.js"><link rel="prefetch" href="/jade-blog/assets/js/29.8c0adc82.js"><link rel="prefetch" href="/jade-blog/assets/js/30.422049f5.js"><link rel="prefetch" href="/jade-blog/assets/js/31.abbdb458.js"><link rel="prefetch" href="/jade-blog/assets/js/32.9410b2d5.js"><link rel="prefetch" href="/jade-blog/assets/js/33.0fce0fb2.js"><link rel="prefetch" href="/jade-blog/assets/js/34.7e8f918b.js"><link rel="prefetch" href="/jade-blog/assets/js/35.edbc9d95.js"><link rel="prefetch" href="/jade-blog/assets/js/36.484377ce.js"><link rel="prefetch" href="/jade-blog/assets/js/37.176f338d.js"><link rel="prefetch" href="/jade-blog/assets/js/38.62502aeb.js"><link rel="prefetch" href="/jade-blog/assets/js/39.4dd73679.js"><link rel="prefetch" href="/jade-blog/assets/js/4.119c2f89.js"><link rel="prefetch" href="/jade-blog/assets/js/40.bb3ad02b.js"><link rel="prefetch" href="/jade-blog/assets/js/41.39c614ff.js"><link rel="prefetch" href="/jade-blog/assets/js/42.56305f55.js"><link rel="prefetch" href="/jade-blog/assets/js/43.55584c24.js"><link rel="prefetch" href="/jade-blog/assets/js/44.d9141bda.js"><link rel="prefetch" href="/jade-blog/assets/js/45.4434f4c4.js"><link rel="prefetch" href="/jade-blog/assets/js/46.5448ed34.js"><link rel="prefetch" href="/jade-blog/assets/js/47.d7e8328e.js"><link rel="prefetch" href="/jade-blog/assets/js/48.546dbb5e.js"><link rel="prefetch" href="/jade-blog/assets/js/49.a1009f30.js"><link rel="prefetch" href="/jade-blog/assets/js/5.f0cebd99.js"><link rel="prefetch" href="/jade-blog/assets/js/50.2a55be80.js"><link rel="prefetch" href="/jade-blog/assets/js/51.aebc278f.js"><link rel="prefetch" href="/jade-blog/assets/js/52.6ed137ae.js"><link rel="prefetch" href="/jade-blog/assets/js/53.6fd81624.js"><link rel="prefetch" href="/jade-blog/assets/js/54.2ea688ea.js"><link rel="prefetch" href="/jade-blog/assets/js/55.b6a4120c.js"><link rel="prefetch" href="/jade-blog/assets/js/56.9ccddc02.js"><link rel="prefetch" href="/jade-blog/assets/js/57.df34eca0.js"><link rel="prefetch" href="/jade-blog/assets/js/58.61c267c3.js"><link rel="prefetch" href="/jade-blog/assets/js/59.9f156824.js"><link rel="prefetch" href="/jade-blog/assets/js/6.240e9e1d.js"><link rel="prefetch" href="/jade-blog/assets/js/60.1ec30e19.js"><link rel="prefetch" href="/jade-blog/assets/js/61.206f0ede.js"><link rel="prefetch" href="/jade-blog/assets/js/62.d49f7cf2.js"><link rel="prefetch" href="/jade-blog/assets/js/63.187f4973.js"><link rel="prefetch" href="/jade-blog/assets/js/64.7c862438.js"><link rel="prefetch" href="/jade-blog/assets/js/65.d2b9be73.js"><link rel="prefetch" href="/jade-blog/assets/js/66.90aaafa5.js"><link rel="prefetch" href="/jade-blog/assets/js/7.0ec54907.js"><link rel="prefetch" href="/jade-blog/assets/js/8.96e7fbe2.js"><link rel="prefetch" href="/jade-blog/assets/js/9.1bdfd03f.js">
    <link rel="stylesheet" href="/jade-blog/assets/css/0.styles.e38aed7d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container" data-v-5bf89314><div data-v-5bf89314><div id="loader-wrapper" class="loading-wrapper" data-v-c01c9394 data-v-5bf89314 data-v-5bf89314><div class="loader-main" data-v-c01c9394><div data-v-c01c9394></div><div data-v-c01c9394></div><div data-v-c01c9394></div><div data-v-c01c9394></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-2fdd79b4 data-v-5bf89314 data-v-5bf89314><h3 class="title" style="display:none;" data-v-2fdd79b4 data-v-2fdd79b4>jadeBlog</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-2fdd79b4 data-v-2fdd79b4><input type="password" value="" data-v-2fdd79b4> <span data-v-2fdd79b4>Konck! Knock!</span> <button data-v-2fdd79b4>OK</button></label> <div class="footer" style="display:none;" data-v-2fdd79b4 data-v-2fdd79b4><span data-v-2fdd79b4><i class="iconfont reco-theme" data-v-2fdd79b4></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-2fdd79b4>vuePress-theme-reco</a></span> <span data-v-2fdd79b4><i class="iconfont reco-copyright" data-v-2fdd79b4></i> <a data-v-2fdd79b4><span data-v-2fdd79b4>jiangJade</span>
            
          <span data-v-2fdd79b4>2017 - </span>
          2021
        </a></span></div></div> <div class="hide" data-v-5bf89314><header class="navbar" data-v-5bf89314><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/jade-blog/" class="home-link router-link-active"><img src="/jade-blog/logo.png" alt="jadeBlog" class="logo"> <span class="site-name">jadeBlog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/jade-blog/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jade-blog/categories/css/" class="nav-link"><i class="iconfont undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/jade-blog/categories/js/" class="nav-link"><i class="iconfont undefined"></i>
  js
</a></li><li class="dropdown-item"><!----> <a href="/jade-blog/categories/flutter/" class="nav-link"><i class="iconfont undefined"></i>
  flutter
</a></li><li class="dropdown-item"><!----> <a href="/jade-blog/categories/react/" class="nav-link"><i class="iconfont undefined"></i>
  react
</a></li><li class="dropdown-item"><!----> <a href="/jade-blog/categories/vue/" class="nav-link"><i class="iconfont undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/jade-blog/categories/typeScript/" class="nav-link"><i class="iconfont undefined"></i>
  typeScript
</a></li><li class="dropdown-item"><!----> <a href="/jade-blog/categories/webpack/" class="nav-link"><i class="iconfont undefined"></i>
  webpack
</a></li></ul></div></div><div class="nav-item"><a href="/jade-blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/jade-blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/~reco_luan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-npm"></i>
  NPM
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/jiangJade" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/f2cb422d9345" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-jianshu"></i>
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-csdn"></i>
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/luanhewei/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-bokeyuan"></i>
  博客圆
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://mp.weixin.qq.com/s/mXFqeUTegdvPliXknAAG_A" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-wechat"></i>
  WeChat
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-5bf89314></div> <aside class="sidebar" data-v-5bf89314><div class="personal-info-wrapper" data-v-77052908><img src="/jade-blog/avatar.jpg" alt="author-avatar" class="personal-img" data-v-77052908> <h3 class="name" data-v-77052908>
    jiangJade
  </h3> <div class="num" data-v-77052908><div data-v-77052908><h3 data-v-77052908>53</h3> <h6 data-v-77052908>文章</h6></div> <div data-v-77052908><h3 data-v-77052908>7</h3> <h6 data-v-77052908>标签</h6></div></div> <hr data-v-77052908></div> <nav class="nav-links"><div class="nav-item"><a href="/jade-blog/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jade-blog/categories/css/" class="nav-link"><i class="iconfont undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/jade-blog/categories/js/" class="nav-link"><i class="iconfont undefined"></i>
  js
</a></li><li class="dropdown-item"><!----> <a href="/jade-blog/categories/flutter/" class="nav-link"><i class="iconfont undefined"></i>
  flutter
</a></li><li class="dropdown-item"><!----> <a href="/jade-blog/categories/react/" class="nav-link"><i class="iconfont undefined"></i>
  react
</a></li><li class="dropdown-item"><!----> <a href="/jade-blog/categories/vue/" class="nav-link"><i class="iconfont undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/jade-blog/categories/typeScript/" class="nav-link"><i class="iconfont undefined"></i>
  typeScript
</a></li><li class="dropdown-item"><!----> <a href="/jade-blog/categories/webpack/" class="nav-link"><i class="iconfont undefined"></i>
  webpack
</a></li></ul></div></div><div class="nav-item"><a href="/jade-blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/jade-blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/~reco_luan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-npm"></i>
  NPM
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/jiangJade" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/f2cb422d9345" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-jianshu"></i>
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-csdn"></i>
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/luanhewei/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-bokeyuan"></i>
  博客圆
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://mp.weixin.qq.com/s/mXFqeUTegdvPliXknAAG_A" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-wechat"></i>
  WeChat
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>vue-nextTick简单理解</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jade-blog/views/vue/2018/nextTick.html#_1-nexttick的使用" class="sidebar-link">1 nextTick的使用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/jade-blog/views/vue/2018/nextTick.html#_2-nexttick的应用场景" class="sidebar-link">2 nextTick的应用场景</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/jade-blog/views/vue/2018/nextTick.html#_3-nexttick源码解析" class="sidebar-link">3 nextTick源码解析</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-2fdd79b4 data-v-5bf89314><h3 class="title" style="display:none;" data-v-2fdd79b4 data-v-2fdd79b4>vue-nextTick简单理解</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-2fdd79b4 data-v-2fdd79b4><input type="password" value="" data-v-2fdd79b4> <span data-v-2fdd79b4>Konck! Knock!</span> <button data-v-2fdd79b4>OK</button></label> <div class="footer" style="display:none;" data-v-2fdd79b4 data-v-2fdd79b4><span data-v-2fdd79b4><i class="iconfont reco-theme" data-v-2fdd79b4></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-2fdd79b4>vuePress-theme-reco</a></span> <span data-v-2fdd79b4><i class="iconfont reco-copyright" data-v-2fdd79b4></i> <a data-v-2fdd79b4><span data-v-2fdd79b4>jiangJade</span>
            
          <span data-v-2fdd79b4>2017 - </span>
          2021
        </a></span></div></div> <div data-v-5bf89314><main class="page"><div class="page-title" style="display:none;"><h1>vue-nextTick简单理解</h1> <hr> <div data-v-1d3b109c><i class="iconfont reco-account" data-v-1d3b109c><span data-v-1d3b109c>jiangJade</span></i> <i class="iconfont reco-date" data-v-1d3b109c><span data-v-1d3b109c>2018-08-01</span></i> <!----> <i class="iconfont reco-tag tags" data-v-1d3b109c><span class="tag-item" data-v-1d3b109c>
      vue
    </span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><div class="custom-block tip"><p>看到Vue中的nextTick涉及到Vue中DOM的异步更新，觉得挺有意思，一起来了解一下。</p></div> <p>Vue.nextTick的作用</p> <div class="custom-block tip"><p>Vue.nextTick用于延迟执行一段代码，它接受2个参数（回调函数和执行回调函数的上下文环境），如果没有提供回调函数，那么将返回promise对象。</p></div> <h2 id="_1-nexttick的使用"><a href="#_1-nexttick的使用" class="header-anchor">#</a> 1 nextTick的使用</h2> <p>html</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;template&gt;
    &lt;div class=&quot;app&quot;&gt;
    &lt;div ref=&quot;contentName&quot;&gt;{{name}}&lt;/div&gt;
    &lt;div v-if=&quot;name1&quot;&gt;name got outside $nextTick: {{name1}}&lt;/div&gt;
    &lt;div v-if=&quot;name2&quot;&gt;name got inside $nextTick: {{name2}}&lt;/div&gt;
    &lt;div v-if=&quot;name3&quot;&gt;name got outside $nextTick: {{name3}}&lt;/div&gt;
    &lt;button @click=&quot;changeName&quot;&gt;
        Change the name
    &lt;/button&gt;
    &lt;/div&gt;
&lt;/template&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>js</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>new Vue({
  el: '.app',
  data: {
    name: '小明',
    name1: '',
    name2: '',
    name3: ''
  },
  methods: {
    changeName() {
      this.name = &quot;小红&quot;
      this.name1 = this.$refs.contentName.innerHTML
      this.$nextTick(() =&gt; {
        this.name2 = this.$refs.contentName.innerHTML
      })
      this.name3 = this.$refs.contentName.innerHTML
    }
  }
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="custom-block tip"><p>点击前展示小明， 点击后展示顺序为小明 小红 小明。name2的内容被替换成了小红。因为vue的DOM更新是异步。</p></div> <h2 id="_2-nexttick的应用场景"><a href="#_2-nexttick的应用场景" class="header-anchor">#</a> 2 nextTick的应用场景</h2> <p>在Vue生命周期的created()钩子函数进行的DOM操作一定要放在Vue.nextTick()的回调函数中
在created()钩子函数执行的时候DOM 其实并未进行任何渲染，而此时进行DOM操作无异于徒劳，所以此处一定要将DOM操作的js代码放进Vue.nextTick()的回调函数中。与之对应的就是mounted()钩子函数，因为该钩子函数执行时所有的DOM挂载和渲染都已完成，此时在该钩子函数中进行任何DOM操作都不会有问题 。</p> <p>在数据变化后要执行的某个操作，而这个操作需要使用随数据改变而改变的DOM结构的时候，这个操作都应该放进Vue.nextTick()的回调函数中。
具体原因在Vue的官方文档中详细解释：</p> <div class="custom-block tip"><p>Vue 异步执行 DOM 更新。只要观察到数据变化，Vue 将开启一个队列，并缓冲在同一事件循环中发生的所有数据改变。如果同一个 watcher 被多次触发，只会被推入到队列中一次。这种在缓冲时去除重复数据对于避免不必要的计算和 DOM 操作上非常重要。然后，在下一个的事件循环“tick”中，Vue 刷新队列并执行实际 (已去重的) 工作。Vue 在内部尝试对异步队列使用原生的 Promise.then 和MessageChannel，如果执行环境不支持，会采用 setTimeout(fn, 0)代替。</p></div> <div class="custom-block tip"><p>例如，当你设置vm.setData = 'new data'，该组件不会立即重新渲染。当刷新队列时，组件会在事件循环队列清空时的下一个“tick”更新。多数情况我们不需要关心这个过程，但是如果你想在 DOM 状态更新后做点什么，这就可能会有些棘手。虽然 Vue.js 通常鼓励开发人员沿着“数据驱动”的方式思考，避免直接接触 DOM，但是有时我们确实要这么做。为了在数据变化之后等待 Vue 完成更新 DOM ，可以在数据变化之后立即使用Vue.nextTick(callback) 。这样回调函数在 DOM 更新完成后就会调用。</p></div> <h2 id="_3-nexttick源码解析"><a href="#_3-nexttick源码解析" class="header-anchor">#</a> 3 nextTick源码解析</h2> <p>官方源码</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>/**
 * Defer a task to execute it asynchronously.
 */
export const nextTick = (function () {
  const callbacks = []
  let pending = false
  let timerFunc

  function nextTickHandler () {
    pending = false
    const copies = callbacks.slice(0)
    callbacks.length = 0
    for (let i = 0; i &lt; copies.length; i++) {
      copies[i]()
    }
  }

  // the nextTick behavior leverages the microtask queue, which can be accessed
  // via either native Promise.then or MutationObserver.
  // MutationObserver has wider support, however it is seriously bugged in
  // UIWebView in iOS &gt;= 9.3.3 when triggered in touch event handlers. It
  // completely stops working after triggering a few times... so, if native
  // Promise is available, we will use it:
  /* istanbul ignore if */
  if (typeof Promise !== 'undefined' &amp;&amp; isNative(Promise)) {
    var p = Promise.resolve()
    var logError = err =&gt; { console.error(err) }
    timerFunc = () =&gt; {
      p.then(nextTickHandler).catch(logError)
      // in problematic UIWebViews, Promise.then doesn't completely break, but
      // it can get stuck in a weird state where callbacks are pushed into the
      // microtask queue but the queue isn't being flushed, until the browser
      // needs to do some other work, e.g. handle a timer. Therefore we can
      // &quot;force&quot; the microtask queue to be flushed by adding an empty timer.
      if (isIOS) setTimeout(noop)
    }
  } else if (!isIE &amp;&amp; typeof MutationObserver !== 'undefined' &amp;&amp; (
    isNative(MutationObserver) ||
    // PhantomJS and iOS 7.x
    MutationObserver.toString() === '[object MutationObserverConstructor]'
  )) {
    // use MutationObserver where native Promise is not available,
    // e.g. PhantomJS, iOS7, Android 4.4
    var counter = 1
    var observer = new MutationObserver(nextTickHandler)
    var textNode = document.createTextNode(String(counter))
    observer.observe(textNode, {
      characterData: true
    })
    timerFunc = () =&gt; {
      counter = (counter + 1) % 2
      textNode.data = String(counter)
    }
  } else {
    // fallback to setTimeout
    /* istanbul ignore next */
    timerFunc = () =&gt; {
      setTimeout(nextTickHandler, 0)
    }
  }

  return function queueNextTick (cb?: Function, ctx?: Object) {
    let _resolve
    callbacks.push(() =&gt; {
      if (cb) {
        try {
          cb.call(ctx)
        } catch (e) {
          handleError(e, ctx, 'nextTick')
        }
      } else if (_resolve) {
        _resolve(ctx)
      }
    })
    if (!pending) {
      pending = true
      timerFunc()
    }
    if (!cb &amp;&amp; typeof Promise !== 'undefined') {
      return new Promise((resolve, reject) =&gt; {
        _resolve = resolve
      })
    }
  }
})()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br></div></div><p>首先，先了解nextTick中定义的三个重要变量。</p> <p>callbacks
用来存储所有需要执行的回调函数</p> <p>pending
用来标志是否正在执行回调函数</p> <p>timerFunc
用来触发执行回调函数</p> <p>接下来，了解nextTickHandler()函数。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>function nextTickHandler () {
    pending = false
    const copies = callbacks.slice(0)
    callbacks.length = 0
    for (let i = 0; i &lt; copies.length; i++) {
      copies[i]()
    }
  }

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>这个函数用来执行callbacks里存储的所有回调函数。</p> <p>接下来是将触发方式赋值给timerFunc。</p> <p>先判断是否原生支持promise，如果支持，则利用promise来触发执行回调函数；
否则，如果支持MutationObserver，则实例化一个观察者对象，观察文本节点发生变化时，触发执行所有回调函数。
如果都不支持，则利用setTimeout设置延时为0。
最后是queueNextTick函数。因为nextTick是一个即时函数，所以queueNextTick函数是返回的函数，接受用户传入的参数，用来往callbacks里存入回调函数。</p> <p><img src="data:image/png;base64,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" alt="call"></p> <p>上图是整个执行流程，关键在于timeFunc()，该函数起到延迟执行的作用。
从上面的介绍，可以得知timeFunc()一共有三种实现方式。</p> <p>Promise
MutationObserver
setTimeout
其中Promise和setTimeout很好理解，是一个异步任务，会在同步任务以及更新DOM的异步任务之后回调具体函数。</p> <p>下面着重介绍一下MutationObserver。</p> <p>MutationObserver是HTML5中的新API，是个用来监视DOM变动的接口。他能监听一个DOM对象上发生的子节点删除、属性修改、文本内容修改等等。
调用过程很简单，但是有点不太寻常：你需要先给他绑回调：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var domTarget = 你想要监听的dom节点
mo.observe(domTarget, {
      characterData: true //说明监听文本内容的修改。
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="data:image/png;base64,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" alt="call"></p> <p>在nextTick中 MutationObserver的作用就如上图所示。在监听到DOM更新后，调用回调函数。
其实使用 MutationObserver的原因就是 nextTick想要一个异步API，用来在当前的同步代码执行完毕后，执行我想执行的异步回调，包括Promise和 setTimeout都是基于这个原因。其中深入还涉及到microtask等内容，暂时不理解，就不深入介绍了。</p></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/21/2020, 5:04:26 PM</span></div></footer> <!----></main> <!----> <div style="display:none;" data-v-5bf89314 data-v-5bf89314><div class="comments-wrapper" data-v-5bf89314><!----></div></div></div></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-566b5166 data-v-566b5166><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-566b5166><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-566b5166></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-566b5166></path></svg></div></div></div>
    <script src="/jade-blog/assets/js/app.923e8905.js" defer></script><script src="/jade-blog/assets/js/3.8e18c45c.js" defer></script><script src="/jade-blog/assets/js/1.36d733a9.js" defer></script><script src="/jade-blog/assets/js/17.63941303.js" defer></script>
  </body>
</html>
