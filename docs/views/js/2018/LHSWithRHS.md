---
title: LHS和RHS
date: 2018-6-14
tags:
  - js
categories:
  - js
---

### LHS 和 RHS 是什么？

作用域对变量的查询目的是变量赋值还是查询； LHS 也就是可以理解为变量在赋值操作符(=）的左侧；

```js
// js中声明一个变量
var num = 100;
```

RHS 也就是变量在赋值操作符右边,如下示例

```js
function test(a, b) {
  // 作用域对变量a,b的查找就是RHS, 查找变量b会报错，会抛出ReferenceError的错误
  return a * 2 + b;
}
test(2);
```

如果在执行 LHS 中查询不到对应的变量，在非严格模式下会创建变量并且进行赋值，如果在执行 RHS 查询的过程中，对查询到的变量操作不正确，例如对非函数(undefined,null)执行函数操作时，会报出 TypeError 的错误。

判单会输出什么？

```js
(function() {
  a = 100;
})();
console.log(a);
```

### 总结

之前的理解是如果不对变量 a 采用 var 声明的时候，自动创建的是全局变量，其实现在我们就可以合理的解释；
:::tip
首先 a=100 对变量 a 执行的是 LHS 查询，当前作用域中不存在 a,会一直向上查找，直到全局作用范围中仍然无法找到该变量，因为是在非严格模式下（严格模式会直接报 ReferenceError 的错误），所以编译器会自动在全局范围中创建变量 a，并赋值 100，这样我们所观察到的结果就是在全局范围中创建了变量 a.
:::
